<!DOCTYPE html>
<html>
<head>

  <script async src="https://www.googletagmanager.com/gtag/js?id=G-49TJQWLWDQ"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-49TJQWLWDQ');
  </script>

  <meta charset="utf-8">
  <meta name="description" content="GLARE: A Natural Language Interface for Querying Global Explanations">
  <meta name="keywords" content="explainable AI, XAI, global explanations, natural language interface, LLM, text-to-SQL, GLARE">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>GLARE: A Natural Language Interface for Querying Global Explanations</title>

  <link href="https://fonts.googleapis.com/css?family=Google+Sans|Noto+Sans|Castoro"
        rel="stylesheet">

  <link rel="stylesheet" href="./static/css/bulma.min.css">
  <link rel="stylesheet" href="./static/css/bulma-carousel.min.css">
  <link rel="stylesheet" href="./static/css/bulma-slider.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jpswalsh/academicons@1/css/academicons.min.css">
  <link rel="stylesheet" href="./static/css/index.css">

  <link rel="icon" href="./resources/favicon.ico">

  <script src="https://kit.fontawesome.com/006a5775d5.js" crossorigin="anonymous"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

  <style>
    /* --- Accordion Dropdown Styles --- */
    .section-toggle {
        font-size: 0.8rem;
        font-weight: normal;
        cursor: pointer;
        color: #3273dc;
        margin-left: 15px;
        vertical-align: middle;
        text-decoration: none;
    }
    .section-toggle:hover {
        text-decoration: underline;
    }

    .dropdown-item {
        margin-bottom: 1rem;
    }

    .dropdown-header {
        font-size: 1.1rem;
        font-weight: 600;
        cursor: pointer;
        padding: 15px 20px;

        display: flex;
        align-items: center;
        justify-content: space-between;

        background-color: #ffffff;
        border: 1px solid #dbdbdb;
        border-radius: 5px;
        box-shadow: 0 3px 5px rgba(0,0,0,0.03);

        transition: all 0.2s ease-in-out;
    }

    .dropdown-header:hover {
        background-color: #f9f9f9;
        box-shadow: 0 5px 8px rgba(0,0,0,0.05);
        transform: translateY(-2px);
    }

    .header-text {
        flex-grow: 1;
        padding-right: 15px;
        word-break: break-word;
    }

    .dropdown-header .icon {
        flex-shrink: 0;
        transition: transform 0.2s ease-in-out;
        font-size: 1rem;
        color: #7a7a7a;
    }

    .dropdown-header.active .icon {
        transform: rotate(180deg);
    }
    .dropdown-header.active {
        background-color: #f5f5ff;
        border-bottom-left-radius: 0;
        border-bottom-right-radius: 0;
    }

    .dropdown-content {
        display: none;
        padding: 20px 25px;
        background-color: #ffffff;
        border: 1px solid #dbdbdb;
        border-top: none;

        margin-top: -1px;
        border-radius: 0 0 5px 5px;

        margin-left: 0;
        border-left: none;
    }
    .dropdown-content p, .dropdown-content ul {
        font-size: 1rem;
        line-height: 1.6;
        white-space: normal;
        word-break: break-word;
    }

    pre, code {
        white-space: pre-wrap;
        word-break: break-all;
    }

    .visible-image {
        margin: 20px auto;
        display: block;
        max-width: 100%;
        border: 1px solid #ddd;
        border-radius: 4px;
        padding: 5px;
    }

    img {
        max-width: 100%;
        height: auto;
    }

    .global-toggle-container {
        text-align: center;
        padding: 10px 0;
    }

    /* Results table styles */
    .results-table-container {
        overflow-x: auto;
        margin: 25px 0;
    }
    .results-table {
        width: 100%;
        min-width: 700px;
        border-collapse: collapse;
        font-size: 0.85rem;
    }
    .results-table th, .results-table td {
        border: 1px solid #dbdbdb;
        padding: 8px 10px;
        text-align: center;
        vertical-align: middle;
    }
    .results-table th {
        background-color: #f5f5f5;
        font-weight: 600;
    }
    .results-table .model-col {
        text-align: left;
        font-weight: 600;
        min-width: 120px;
    }
    .results-table .setting-col {
        font-weight: 600;
    }

    /* Color coding for metrics */
    .c-high { background-color: #00A3A1; color: white; }
    .c-med { background-color: #64D1C6; }
    .c-low { background-color: #C8F1EA; }

    .p-high { background-color: #BBA0E5; }
    .p-med { background-color: #DCC4F6; }
    .p-low { background-color: #F4EBFC; }

    .results-table .c-high strong { color: white !important; }

    .table-caption {
        font-size: 0.9rem;
        font-style: italic;
        color: #555;
        margin-bottom: 10px;
        text-align: left;
    }

    .header-baselines { background-color: #ffcccc !important; }
    .header-main { background-color: #ccffcc !important; }
    .header-transfer { background-color: #cceeff !important; }

    /* Results Charts Styles */
    .results-chart-container {
        margin: 20px 0;
        padding: 25px;
        background: #fafafa;
        border-radius: 12px;
    }
    .chart {
        display: flex;
        flex-direction: column;
        gap: 8px;
    }
    .chart-row {
        display: flex;
        align-items: center;
        gap: 10px;
    }
    .chart-label {
        width: 160px;
        font-size: 0.85em;
        font-weight: 600;
        color: #444;
        text-align: right;
        flex-shrink: 0;
    }
    .chart-bar-container {
        flex: 1;
        height: 28px;
        background: #eee;
        border-radius: 4px;
        position: relative;
        overflow: hidden;
    }
    .chart-bar {
        height: 100%;
        border-radius: 4px;
        display: flex;
        align-items: center;
        justify-content: flex-end;
        padding-right: 8px;
        font-size: 0.75em;
        font-weight: 700;
        color: white;
        transition: width 0.5s;
    }
    .chart-bar.small-text {
        justify-content: flex-start;
        padding-left: 8px;
        color: #333;
    }
    .difficulty-section {
        margin-bottom: 20px;
    }
    .difficulty-header {
        font-weight: 700;
        font-size: 0.9em;
        color: #555;
        margin: 15px 0 8px 0;
        padding: 4px 10px;
        background: #f0f0f0;
        border-radius: 4px;
        display: inline-block;
    }
    .chart-title {
        text-align: center;
        margin-bottom: 20px;
    }
    .chart-title h3 {
        font-size: 1.1em;
        color: #333;
        margin: 0;
    }
    .chart-title p {
        font-size: 0.8em;
        color: #888;
        margin: 4px 0 0;
    }
    .chart-caption {
        font-size: 0.8em;
        color: #777;
        margin-top: 15px;
        text-align: center;
        font-style: italic;
    }
    .chart-divider {
        border-top: 1px solid #ddd;
        margin: 8px 0 8px 170px;
    }

    /* Pipeline SVG styles */
    .pipeline-container {
        margin: 20px auto;
        max-width: 860px;
        background: white;
        border: 1px solid #ddd;
        border-radius: 8px;
        padding: 20px;
    }

    /* Query example styles */
    .query-example {
        background: #f8f9fa;
        border-left: 4px solid #3273dc;
        padding: 15px 20px;
        margin: 15px 0;
        border-radius: 0 6px 6px 0;
    }
    .query-example .query-q {
        font-weight: 600;
        color: #3273dc;
        margin-bottom: 5px;
    }
    .query-example .query-a {
        color: #2d6a2e;
        font-style: italic;
    }
    .query-example code {
        background: #e9ecef;
        padding: 2px 6px;
        border-radius: 3px;
        font-size: 0.88em;
    }

    /* Taxonomy node styles */
    .taxonomy-grid {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 15px;
        margin: 20px 0;
    }
    .taxonomy-card {
        background: white;
        border: 1px solid #dbdbdb;
        border-radius: 8px;
        padding: 15px;
    }
    .taxonomy-card h4 {
        margin: 0 0 8px 0;
        font-size: 0.95em;
        padding-bottom: 6px;
        border-bottom: 2px solid;
    }
    .taxonomy-card.core h4 { color: #2980b9; border-color: #d4e6f1; }
    .taxonomy-card.extended h4 { color: #27ae60; border-color: #d5f5e3; }
    .taxonomy-card.contrastive h4 { color: #e67e22; border-color: #fdebd0; }
    .taxonomy-card ul {
        list-style: none;
        padding: 0;
        margin: 0;
    }
    .taxonomy-card li {
        font-size: 0.85em;
        padding: 3px 0;
        color: #555;
    }

    @media (max-width: 768px) {
        .taxonomy-grid {
            grid-template-columns: 1fr;
        }
    }

  </style>
</head>
<body>

<section class="hero">
  <div class="hero-body">
    <div class="container">
      <div class="columns is-centered">
        <div class="column has-text-centered">
          <h1 class="title is-1 publication-title">GLARE: A Natural Language Interface for Querying Global Explanations</h1>
          <div class="is-size-4 publication-authors">
            <span class="author-block">
              <a href="https://rajeshdm.github.io" target="_blank">Rajesh Mangannavar</a>,
              <a href="https://bhavanvasu.com" target="_blank">Bhavan Vasu</a>
              <br><br>
              Oregon State University
            </span>
          </div>

          <h2 class="is-size-4 has-text-weight-bold has-text-success-dark mt-4 mb-4">
            Transforms global model explanations from static artifacts into queryable databases&mdash;users ask natural language questions and receive structured answers with statistics, examples, and visualizations. Achieves 95% query accuracy, 90.6% zero-shot cross-dataset transfer, and 85% robustness to input perturbations.
          </h2>

          <div class="column has-text-centered">
            <div class="publication-links">
              <span class="link-block">
                <a href="#"
                   class="external-link button is-normal is-rounded is-dark">
                  <span class="icon">
                      <i class="fas fa-file-pdf"></i>
                  </span>
                  <span>Paper</span>
                </a>
              </span>
              <span class="link-block">
                <a href="#"
                   class="external-link button is-normal is-rounded is-dark">
                  <span class="icon">
                      <i class="ai ai-arxiv"></i>
                  </span>
                  <span>arXiv</span>
                </a>
              </span>
              <span class="link-block">
                <a href="#"
                   class="external-link button is-normal is-rounded is-dark">
                  <span class="icon">
                      <i class="fab fa-github"></i>
                  </span>
                  <span>Code</span>
                </a>
              </span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<section class="section pt-0 pb-4">
    <div class="container global-toggle-container">
      <button id="global-toggle" class="button is-info is-rounded" data-action="expand">Expand All Sections</button>
    </div>
</section>

<section class="section pt-0">
  <div class="container">
    <div class="columns is-centered">
      <div class="column is-two-thirds">
        <h2 class="title is-2 has-text-centered">Abstract</h2>
        <div class="content has-text-justified">
          <p>
            Global explanations help users understand how vision models behave across datasets, classes, and decision contexts. However, for modern deep neural networks, global explanations are often complex, voluminous, and difficult for users to meaningfully explore. We present GLARE, an LLM-based interactive explanation interface that enables natural language access to global explanations for black-box image classification models. Users ask natural language questions and receive concise, interpretable responses: natural language summaries with statistics, supporting local explanations, and visualizations aligned with the user's intent. The core of the interface is a large language model fine-tuned to map natural language queries to structured SQL queries over explanation databases. We evaluate the system's ability to accurately interpret user intent, its robustness to spelling errors and grammatical variations, and its generalization to new query types and datasets. Our results show over 95% accuracy on in-distribution queries, 90.6% zero-shot cross-dataset transfer, and 85% robustness to perturbations.
          </p>
        </div>
      </div>
    </div>
  </div>
</section>

<section class="section">
  <div class="container">
    <div class="columns is-centered">
      <div class="column is-three-quarters">

        <!-- ============================================================ -->
        <!-- SECTION 1: Why Natural Language for Explanations? -->
        <!-- ============================================================ -->
        <div class="section-container">
            <h2 class="title is-2">Why Natural Language for Explanations?
                <a class="section-toggle" data-action="expand">[Expand All]</a>
            </h2>

            <div class="dropdown-item">
                <div class="dropdown-header">
                    <span class="header-text">
                        <b>Global explanations are overwhelming:</b> A single class might have hundreds of logical rules&mdash;too many for any user to digest.
                    </span>
                    <span class="icon">
                        <i class="fas fa-chevron-down"></i>
                    </span>
                </div>
                <div class="dropdown-content">
                    <p>Modern global explanations for deep neural networks often consist of thousands of logical rules or prototypes. For example, a global explanation for a scene classifier might express that a "bedroom" is recognized via dozens of distinct object combinations: (bed &and; wall), (bed &and; curtain &and; lamp), etc. Presenting this entire "explanation dump" to a user induces cognitive overload and obscures the very insights it aims to reveal.</p>
                </div>
            </div>
            <div class="dropdown-item">
                <div class="dropdown-header">
                    <span class="header-text">
                        <b>Users want answers, not artifacts:</b> People approach models with specific questions, not a desire to browse static summaries.
                    </span>
                    <span class="icon">
                        <i class="fas fa-chevron-down"></i>
                    </span>
                </div>
                <div class="dropdown-content">
                    <p>Human explanation-seeking is an iterative, query-driven process. Users approach models with specific hypotheses: <em>"What features are necessary for the 'bedroom' class?"</em>, <em>"Does the model rely on background snow to classify wolves?"</em>, or <em>"Show me examples where the model relies on shape rather than texture."</em> Current XAI tools force users to manually filter and aggregate explanations to answer these questions.</p>
                </div>
            </div>
            <div class="dropdown-item">
                <div class="dropdown-header">
                    <span class="header-text">
                        <b>Dialogue is natural:</b> Explanations are social&mdash;they emerge from interactive dialogue, not monologue.
                    </span>
                    <span class="icon">
                        <i class="fas fa-chevron-down"></i>
                    </span>
                </div>
                <div class="dropdown-content">
                    <p>Research in social science shows that explanations are inherently interactive. Users naturally ask <em>"Why?"</em>, <em>"Why not?"</em>, and <em>"What if?"</em> questions. Static dashboards fail because they cannot anticipate the specific, context-dependent questions a user might have. A natural language interface aligns with how humans naturally seek and process explanations.</p>
                </div>
            </div>
            <hr>
        </div>

        <!-- ============================================================ -->
        <!-- SECTION 2: The Problem with Current XAI -->
        <!-- ============================================================ -->
        <div class="section-container">
            <h2 class="title is-2">The Problem with Current XAI
                <a class="section-toggle" data-action="expand">[Expand All]</a>
            </h2>

            <div class="dropdown-item">
                <div class="dropdown-header">
                    <span class="header-text">
                        <b>Local explanations miss the big picture:</b> Saliency maps explain one image but reveal nothing about systematic biases.
                    </span>
                    <span class="icon">
                        <i class="fas fa-chevron-down"></i>
                    </span>
                </div>
                <div class="dropdown-content">
                    <p>Local methods like Grad-CAM, SHAP, and concept bottleneck models explain specific instances (e.g., "Why was <em>this</em> image classified as a wolf?"). While useful for auditing single errors, they fail to reveal systemic biases, general reasoning patterns, or the diversity of strategies a model uses across a dataset.</p>
                </div>
            </div>
            <div class="dropdown-item">
                <div class="dropdown-header">
                    <span class="header-text">
                        <b>Global explanations suffer from information overload:</b> High-fidelity global summaries can contain thousands of rules.
                    </span>
                    <span class="icon">
                        <i class="fas fa-chevron-down"></i>
                    </span>
                </div>
                <div class="dropdown-content">
                    <p>Global explanations summarize a model's behavior across the entire input space. Methods like decision trees, DNF formulas, or globally important concepts attempt this, but for deep networks trained on complex visual domains, these explanations become massive. Users cannot meaningfully browse or internalize thousands of logical clauses without filtering mechanisms.</p>
                </div>
            </div>
            <div class="dropdown-item">
                <div class="dropdown-header">
                    <span class="header-text">
                        <b>Generating explanations with LLMs risks hallucination:</b> Using LLMs to <em>create</em> explanations directly is unfaithful to the model.
                    </span>
                    <span class="icon">
                        <i class="fas fa-chevron-down"></i>
                    </span>
                </div>
                <div class="dropdown-content">
                    <p>Some approaches use LLMs to directly generate natural language explanations. However, this risks hallucination&mdash;the LLM might produce plausible-sounding but incorrect explanations. GLARE avoids this by using the LLM as a <em>semantic parser</em> that maps questions to deterministic SQL queries. The data retrieval is grounded in the actual explanation database, not the LLM's imagination. Note that a final LLM step formats results into natural language, so some residual presentation risk remains&mdash;but the underlying facts are always sourced from the database.</p>
                </div>
            </div>
            <hr>
        </div>

        <!-- ============================================================ -->
        <!-- SECTION 3: GLARE's Key Insight -->
        <!-- ============================================================ -->
        <div class="section-container">
            <h2 class="title is-2">GLARE's Key Insight
                <a class="section-toggle" data-action="expand">[Expand All]</a>
            </h2>

            <div class="dropdown-item">
                <div class="dropdown-header">
                    <span class="header-text">
                        <b>Treat explanations as a database, not a document:</b> Global explanations become a queryable relational database, not a static artifact.
                    </span>
                    <span class="icon">
                        <i class="fas fa-chevron-down"></i>
                    </span>
                </div>
                <div class="dropdown-content">
                    <p>Rather than viewing global explanations as a monolithic artifact to be passively consumed, GLARE ingests local explanations (Minimal Sufficient Explanations expressed as DNF formulas) into a relational database. This enables precise structural queries: frequency counts, co-occurrence analysis, cross-class comparisons, set operations, and counterfactual reasoning&mdash;all through standard SQL.</p>
                </div>
            </div>
            <div class="dropdown-item">
                <div class="dropdown-header">
                    <span class="header-text">
                        <b>LLMs as semantic parsers, not generators:</b> The LLM translates questions into SQL&mdash;answers come from data, not the model.
                    </span>
                    <span class="icon">
                        <i class="fas fa-chevron-down"></i>
                    </span>
                </div>
                <div class="dropdown-content">
                    <p>The LLM's role is to act as a <em>logic-constrained semantic parser</em>. Given a natural language question, it selects from a taxonomy of SQL query templates and extracts the relevant parameters (class names, object names, thresholds). The SQL is then executed against the explanation database deterministically. This ensures formal correctness: the flexibility of natural language does not come at the cost of accuracy.</p>
                </div>
            </div>
            <div class="dropdown-item">
                <div class="dropdown-header">
                    <span class="header-text">
                        <b>Synthetic training enables zero-shot transfer:</b> Train on auto-generated data from one dataset, deploy on any new domain without retraining.
                    </span>
                    <span class="icon">
                        <i class="fas fa-chevron-down"></i>
                    </span>
                </div>
                <div class="dropdown-content">
                    <p>A key technical challenge is enabling deployment on new datasets without expensive manual annotation. GLARE generates 50,000 synthetic training examples from schema metadata alone. A "fence masking" technique during fine-tuning focuses learning exclusively on SQL structure (not entity names), teaching the model the <em>relational algebra</em> of explanation querying. This enables zero-shot transfer&mdash;a model trained on ADE20K transfers directly to Pascal VOC (a completely different object vocabulary) at 90.6% accuracy.</p>
                </div>
            </div>

            <!-- Example queries -->
            <div class="query-example">
                <div class="query-q">"What percentage of bedroom images contain both bed and wall?"</div>
                <div class="query-a">GLARE &rarr; SQL query &rarr; "73.2% of bedroom images contain both bed and wall." + supporting evidence images with highlighted objects</div>
            </div>
            <div class="query-example">
                <div class="query-q">"Which objects distinguish kitchen from dining room?"</div>
                <div class="query-a">GLARE &rarr; SQL set difference &rarr; "Objects found in kitchen but not dining room: stove (82%), oven (61%), range hood (43%)..." + example images</div>
            </div>
            <hr>
        </div>

        <!-- ============================================================ -->
        <!-- SECTION 4: System Overview -->
        <!-- ============================================================ -->
        <div class="section-container">
            <h2 class="title is-2">System Overview
                <a class="section-toggle" data-action="expand">[Expand All]</a>
            </h2>

            <div class="dropdown-item">
                <div class="dropdown-header">
                    <span class="header-text">
                        <b>Parse-Validate-Execute pipeline:</b> Questions flow through LLM parsing, SQL validation, database execution, and multimodal response.
                    </span>
                    <span class="icon">
                        <i class="fas fa-chevron-down"></i>
                    </span>
                </div>
                <div class="dropdown-content">
                    <p>The system follows a structured pipeline: (1) A user poses a question in natural language. (2) The fine-tuned LLM translates it into a SQL query by selecting from predefined templates and extracting parameters. (3) The SQL is validated for correctness and safety. (4) The query is executed against the explanation database. (5) Results are returned as structured data along with a natural language summary, statistics, and supporting evidence images with highlighted objects.</p>

                    <!-- Pipeline Diagram SVG -->
                    <div class="pipeline-container">
                        <svg viewBox="0 0 860 520" xmlns="http://www.w3.org/2000/svg">
                            <defs>
                                <marker id="pl-arrow" markerWidth="7" markerHeight="5" refX="7" refY="2.5" orient="auto">
                                    <polygon points="0 0, 7 2.5, 0 5" fill="#444"/>
                                </marker>
                                <marker id="pl-arrow-blue" markerWidth="7" markerHeight="5" refX="7" refY="2.5" orient="auto">
                                    <polygon points="0 0, 7 2.5, 0 5" fill="#2980b9"/>
                                </marker>
                                <marker id="pl-arrow-green" markerWidth="7" markerHeight="5" refX="7" refY="2.5" orient="auto">
                                    <polygon points="0 0, 7 2.5, 0 5" fill="#27ae60"/>
                                </marker>
                            </defs>

                            <!-- UPSTREAM SECTION -->
                            <rect x="15" y="20" width="830" height="155" rx="8" ry="8" fill="#f8fbff" stroke="#a0c4e8" stroke-width="1.2"/>
                            <text x="430" y="14" text-anchor="middle" font-size="11" fill="#2471a3" font-weight="bold" letter-spacing="0.5">UPSTREAM: GLOBAL EXPLANATION GENERATION [prior work]</text>

                            <rect x="35" y="50" width="110" height="75" rx="4" ry="4" fill="white" stroke="#555" stroke-width="1.2"/>
                            <text x="90" y="72" text-anchor="middle" font-size="10" fill="#333" font-weight="bold">Images +</text>
                            <text x="90" y="86" text-anchor="middle" font-size="10" fill="#333" font-weight="bold">Annotations</text>
                            <line x1="45" y1="93" x2="135" y2="93" stroke="#eee" stroke-width="1"/>
                            <text x="90" y="108" text-anchor="middle" font-size="8.5" fill="#666">ADE20K (150 objects)</text>
                            <text x="90" y="120" text-anchor="middle" font-size="8.5" fill="#666">20 scene classes</text>

                            <line x1="145" y1="87" x2="180" y2="87" stroke="#2980b9" stroke-width="1.2" marker-end="url(#pl-arrow-blue)"/>

                            <polygon points="200,55 300,55 320,120 180,120" fill="white" stroke="#555" stroke-width="1.2"/>
                            <text x="250" y="82" text-anchor="middle" font-size="10" fill="#333" font-weight="bold">Image</text>
                            <text x="250" y="96" text-anchor="middle" font-size="10" fill="#333" font-weight="bold">Classifier</text>
                            <text x="250" y="112" text-anchor="middle" font-size="8" fill="#888">(any arch.)</text>

                            <line x1="320" y1="87" x2="340" y2="87" stroke="#2980b9" stroke-width="1.2" marker-end="url(#pl-arrow-blue)"/>

                            <rect x="340" y="50" width="160" height="75" rx="4" ry="4" fill="white" stroke="#555" stroke-width="1.2"/>
                            <text x="420" y="70" text-anchor="middle" font-size="10" fill="#333" font-weight="bold">MSX Extraction</text>
                            <text x="420" y="84" text-anchor="middle" font-size="10" fill="#333" font-weight="bold">(Beam Search)</text>
                            <line x1="350" y1="93" x2="490" y2="93" stroke="#eee" stroke-width="1"/>
                            <text x="420" y="108" text-anchor="middle" font-size="8.5" fill="#666">Minimal object subsets</text>
                            <text x="420" y="120" text-anchor="middle" font-size="8.5" fill="#666">preserving ≥95% score</text>

                            <line x1="500" y1="87" x2="700" y2="87" stroke="#2980b9" stroke-width="1.2" marker-end="url(#pl-arrow-blue)"/>
                            <text x="600" y="80" text-anchor="middle" font-size="9" fill="#2980b9">Aggregation</text>

                            <rect x="700" y="50" width="130" height="75" rx="4" ry="4" fill="#e8f4f8" stroke="#2980b9" stroke-width="1.5"/>
                            <text x="765" y="75" text-anchor="middle" font-size="11" fill="#1a5276" font-weight="bold">mDNF</text>
                            <line x1="710" y1="93" x2="820" y2="93" stroke="#bdd7ea" stroke-width="1"/>
                            <text x="765" y="108" text-anchor="middle" font-size="7.5" fill="#555">(bed&#8743;wall) &#8744;</text>
                            <text x="765" y="120" text-anchor="middle" font-size="7.5" fill="#555">(bed&#8743;curtain&#8743;lamp)&#8744;...</text>

                            <rect x="40" y="135" width="790" height="28" rx="3" ry="3" fill="#f0f7fa" stroke="none"/>
                            <text x="430" y="154" text-anchor="middle" font-size="9" fill="#2471a3" font-style="italic">MSX per image: minimal object subset sufficient for classification → mDNF</text>

                            <line x1="765" y1="130" x2="765" y2="205" stroke="#2980b9" stroke-width="2" marker-end="url(#pl-arrow-blue)"/>
                            <text x="780" y="175" font-size="9" fill="#2980b9" font-weight="bold">input</text>

                            <!-- OUR SYSTEM SECTION -->
                            <rect x="15" y="210" width="830" height="285" rx="8" ry="8" fill="#f8fff8" stroke="#7dcea0" stroke-width="1.2"/>
                            <text x="430" y="204" text-anchor="middle" font-size="11" fill="#1e8449" font-weight="bold" letter-spacing="0.5">OUR SYSTEM: NATURAL LANGUAGE QUERY INTERFACE</text>

                            <rect x="40" y="240" width="150" height="50" rx="20" ry="20" fill="white" stroke="#333" stroke-width="1.3"/>
                            <text x="115" y="262" text-anchor="middle" font-size="11" fill="#333">Natural Language</text>
                            <text x="115" y="278" text-anchor="middle" font-size="11" fill="#333">Question</text>

                            <line x1="190" y1="265" x2="258" y2="265" stroke="#444" stroke-width="1.3" marker-end="url(#pl-arrow)"/>

                            <polygon points="270,235 370,235 395,295 245,295" fill="white" stroke="#333" stroke-width="1.3"/>
                            <text x="320" y="258" text-anchor="middle" font-size="11" fill="#333" font-weight="bold">LLM</text>
                            <text x="320" y="280" text-anchor="middle" font-size="9" fill="#666">Fine-tuned</text>

                            <line x1="395" y1="265" x2="445" y2="265" stroke="#444" stroke-width="1.2" marker-end="url(#pl-arrow)"/>

                            <rect x="450" y="244" width="110" height="42" rx="3" ry="3" fill="white" stroke="#333" stroke-width="1.3"/>
                            <text x="505" y="264" text-anchor="middle" font-size="10" fill="#333" font-weight="bold">SQL Query</text>
                            <text x="505" y="279" text-anchor="middle" font-size="8" fill="#666" font-family="monospace">SELECT...WHERE</text>

                            <line x1="560" y1="265" x2="628" y2="265" stroke="#444" stroke-width="1.2" marker-end="url(#pl-arrow)"/>

                            <polygon points="630,265 680,235 730,265 680,295" fill="white" stroke="#333" stroke-width="1.2"/>
                            <text x="680" y="261" text-anchor="middle" font-size="9" fill="#333">Validate</text>
                            <text x="680" y="273" text-anchor="middle" font-size="9" fill="#333">&amp; Exec</text>

                            <line x1="730" y1="265" x2="740" y2="265" stroke="#444" stroke-width="1.2" marker-end="url(#pl-arrow)"/>

                            <path d="M 745 246 L 745 287 Q 780 304 815 287 L 815 246" fill="white" stroke="#333" stroke-width="1.2"/>
                            <ellipse cx="780" cy="287" rx="35" ry="10" fill="white" stroke="#333" stroke-width="1.2"/>
                            <ellipse cx="780" cy="246" rx="35" ry="10" fill="#eee" stroke="#333" stroke-width="1.2"/>
                            <text x="780" y="269" text-anchor="middle" font-size="9" fill="#333" font-weight="bold">DNF</text>
                            <text x="780" y="282" text-anchor="middle" font-size="8" fill="#555">SQLite</text>

                            <path d="M 765 205 Q 780 224 780 236" fill="none" stroke="#2980b9" stroke-width="1.5" marker-end="url(#pl-arrow-blue)"/>

                            <path d="M 745 291 Q 720 329, 610 379" fill="none" stroke="#444" stroke-width="1.2" marker-end="url(#pl-arrow)"/>

                            <rect x="470" y="364" width="140" height="45" rx="4" ry="4" fill="white" stroke="#333" stroke-width="1.2"/>
                            <text x="540" y="383" text-anchor="middle" font-size="10" fill="#333" font-weight="bold">Structured Results</text>
                            <text x="540" y="399" text-anchor="middle" font-size="9" fill="#666">Tables + Statistics</text>

                            <line x1="470" y1="386" x2="370" y2="386" stroke="#444" stroke-width="1.2" marker-end="url(#pl-arrow)"/>

                            <rect x="175" y="352" width="190" height="85" rx="20" ry="20" fill="#eaf7ea" stroke="#27ae60" stroke-width="1.5"/>
                            <text x="270" y="372" text-anchor="middle" font-size="11" fill="#1e6e30" font-weight="bold">Answer</text>
                            <text x="270" y="389" text-anchor="middle" font-size="9" fill="#444">Global Explanation in</text>
                            <text x="270" y="402" text-anchor="middle" font-size="9" fill="#444">Natural Language</text>
                            <text x="270" y="415" text-anchor="middle" font-size="9" fill="#444">+ evidence images with</text>
                            <text x="270" y="428" text-anchor="middle" font-size="9" fill="#444">objects highlighted</text>

                            <rect x="50" y="374" width="100" height="55" rx="3" ry="3" fill="white" stroke="#aaa" stroke-width="1"/>
                            <rect x="58" y="382" width="35" height="25" rx="2" ry="2" fill="#e8e8e8" stroke="#bbb" stroke-width="0.8"/>
                            <rect x="60" y="384" width="31" height="21" rx="1" ry="1" fill="#f5f5f5" stroke="none"/>
                            <path d="M 68 390 Q 75 385, 78 392 Q 80 400, 72 402 Q 65 400, 68 390" fill="#e74c3c" fill-opacity="0.6" stroke="none"/>
                            <text x="110" y="404" text-anchor="middle" font-size="7" fill="#888">evidence</text>
                            <text x="110" y="414" text-anchor="middle" font-size="7" fill="#888">support</text>

                            <line x1="175" y1="401" x2="155" y2="401" stroke="#27ae60" stroke-width="1" marker-end="url(#pl-arrow-green)"/>

                            <rect x="250" y="315" width="120" height="22" rx="3" ry="3" fill="#fafafa" stroke="#bbb" stroke-width="0.8"/>
                            <text x="310" y="330" text-anchor="middle" font-size="8" fill="#666">Schema + Allowed Entities</text>
                            <line x1="310" y1="315" x2="310" y2="300" stroke="#aaa" stroke-width="0.8" stroke-dasharray="3,2" marker-end="url(#pl-arrow)"/>

                            <rect x="250" y="445" width="360" height="40" rx="4" ry="4" fill="#fafafa" stroke="#ddd" stroke-width="1"/>
                            <text x="430" y="460" text-anchor="middle" font-size="8.5" fill="#444" font-weight="bold">Example queries</text>
                            <text x="430" y="474" text-anchor="middle" font-size="8" fill="#555" font-style="italic">"What % of bedrooms have bed AND wall?"  |  "Top 5 objects in kitchen?"</text>
                        </svg>
                        <p style="text-align:center; font-size:0.85em; color:#666; margin-top:10px; font-style:italic;">GLARE's full pipeline: upstream explanation generation feeds into our natural language query interface.</p>
                    </div>
                </div>
            </div>
            <div class="dropdown-item">
                <div class="dropdown-header">
                    <span class="header-text">
                        <b>LLM-based query interpretation:</b> Gemma 2-9B fine-tuned with QLoRA and fence-based loss masking for SQL generation.
                    </span>
                    <span class="icon">
                        <i class="fas fa-chevron-down"></i>
                    </span>
                </div>
                <div class="dropdown-content">
                    <p>We fine-tune Gemma 2-9B using QLoRA (4-bit quantization, LoRA rank 16). The model receives a system prompt with the database schema and available query templates, a user prompt with the question and allowed entity names, and generates SQL between <code>SQL_START</code> and <code>SQL_END</code> fence markers. During fine-tuning, a custom "fence-based loss masking" technique ignores all prompt tokens and focuses learning exclusively on the SQL generation tokens.</p>
                </div>
            </div>
            <div class="dropdown-item">
                <div class="dropdown-header">
                    <span class="header-text">
                        <b>24 query templates in 3 tiers:</b> Core, Extended, and Contrastive queries covering frequency, co-occurrence, set operations, and counterfactual analysis.
                    </span>
                    <span class="icon">
                        <i class="fas fa-chevron-down"></i>
                    </span>
                </div>
                <div class="dropdown-content">
                    <p>The query templates are organized into three tiers of increasing complexity. Adding a new question type requires only defining a new SQL pattern and regenerating synthetic data&mdash;no manual annotation needed.</p>

                    <div class="taxonomy-grid">
                        <div class="taxonomy-card core">
                            <h4>Core Queries</h4>
                            <ul>
                                <li>Object frequency (%)</li>
                                <li>Boolean: AND, OR, NOT</li>
                                <li>Top-k / Bottom-k ranking</li>
                                <li>Co-occurrence with anchor</li>
                                <li>Class ranking for object</li>
                            </ul>
                        </div>
                        <div class="taxonomy-card extended">
                            <h4>Extended Queries</h4>
                            <ul>
                                <li>N-way combos (self-joins)</li>
                                <li>Cross-class comparison</li>
                                <li>Set difference / intersection</li>
                                <li>Conditional co-occurrence</li>
                                <li>Confidence-filtered analysis</li>
                            </ul>
                        </div>
                        <div class="taxonomy-card contrastive">
                            <h4>Contrastive Queries</h4>
                            <ul>
                                <li>Absence analysis</li>
                                <li>Threshold queries</li>
                                <li>Distinguishing features</li>
                                <li>Counterfactual reasoning</li>
                            </ul>
                        </div>
                    </div>

                    <!-- Taxonomy SVG Diagram -->
                    <div class="pipeline-container" style="max-width:780px;">
                        <svg viewBox="0 0 780 450" xmlns="http://www.w3.org/2000/svg">
                            <defs>
                                <marker id="tx-arrow" markerWidth="6" markerHeight="5" refX="6" refY="2.5" orient="auto">
                                    <polygon points="0 0, 6 2.5, 0 5" fill="#555"/>
                                </marker>
                            </defs>

                            <text x="390" y="25" text-anchor="middle" font-size="14" fill="#333" font-weight="bold">Query Pattern Taxonomy</text>

                            <rect x="290" y="40" width="200" height="35" rx="17" ry="17" fill="#e8e8e8" stroke="#333" stroke-width="1.5"/>
                            <text x="390" y="63" text-anchor="middle" font-size="12" fill="#333" font-weight="bold">Global Explanation Query</text>

                            <line x1="330" y1="75" x2="140" y2="110" stroke="#555" stroke-width="1.2"/>
                            <line x1="390" y1="75" x2="390" y2="110" stroke="#555" stroke-width="1.2"/>
                            <line x1="450" y1="75" x2="640" y2="110" stroke="#555" stroke-width="1.2"/>

                            <!-- Core Queries -->
                            <rect x="55" y="110" width="170" height="30" rx="4" ry="4" fill="#d4e6f1" stroke="#2980b9" stroke-width="1.5"/>
                            <text x="140" y="130" text-anchor="middle" font-size="11" fill="#1a5276" font-weight="bold">Core Queries</text>

                            <line x1="85" y1="140" x2="85" y2="160" stroke="#aaa" stroke-width="1"/>
                            <line x1="140" y1="140" x2="140" y2="160" stroke="#aaa" stroke-width="1"/>
                            <line x1="195" y1="140" x2="195" y2="160" stroke="#aaa" stroke-width="1"/>

                            <rect x="20" y="160" width="130" height="75" rx="3" ry="3" fill="#fafafa" stroke="#aaa" stroke-width="1"/>
                            <text x="85" y="178" text-anchor="middle" font-size="10" fill="#333" font-weight="bold">Frequency</text>
                            <line x1="30" y1="183" x2="140" y2="183" stroke="#eee" stroke-width="1"/>
                            <text x="85" y="196" text-anchor="middle" font-size="8.5" fill="#555">% with object</text>
                            <text x="85" y="210" text-anchor="middle" font-size="8.5" fill="#555">Top-k objects</text>
                            <text x="85" y="224" text-anchor="middle" font-size="8.5" fill="#555">Least common</text>

                            <rect x="160" y="160" width="130" height="75" rx="3" ry="3" fill="#fafafa" stroke="#aaa" stroke-width="1"/>
                            <text x="225" y="178" text-anchor="middle" font-size="10" fill="#333" font-weight="bold">Boolean Logic</text>
                            <line x1="170" y1="183" x2="280" y2="183" stroke="#eee" stroke-width="1"/>
                            <text x="225" y="196" text-anchor="middle" font-size="8.5" fill="#555">AND (co-presence)</text>
                            <text x="225" y="210" text-anchor="middle" font-size="8.5" fill="#555">OR (either/any)</text>
                            <text x="225" y="224" text-anchor="middle" font-size="8.5" fill="#555">NOT (exclusion)</text>

                            <rect x="20" y="245" width="130" height="60" rx="3" ry="3" fill="#fafafa" stroke="#aaa" stroke-width="1"/>
                            <text x="85" y="263" text-anchor="middle" font-size="10" fill="#333" font-weight="bold">Co-occurrence</text>
                            <line x1="30" y1="268" x2="140" y2="268" stroke="#eee" stroke-width="1"/>
                            <text x="85" y="283" text-anchor="middle" font-size="8.5" fill="#555">Objects with anchor</text>
                            <text x="85" y="297" text-anchor="middle" font-size="8.5" fill="#555">Conditional co-occur</text>

                            <rect x="160" y="245" width="130" height="60" rx="3" ry="3" fill="#fafafa" stroke="#aaa" stroke-width="1"/>
                            <text x="225" y="263" text-anchor="middle" font-size="10" fill="#333" font-weight="bold">Class Ranking</text>
                            <line x1="170" y1="268" x2="280" y2="268" stroke="#eee" stroke-width="1"/>
                            <text x="225" y="283" text-anchor="middle" font-size="8.5" fill="#555">Top class for object</text>
                            <text x="225" y="297" text-anchor="middle" font-size="8.5" fill="#555">Cross-class compare</text>

                            <line x1="85" y1="235" x2="85" y2="245" stroke="#aaa" stroke-width="0.8"/>
                            <line x1="225" y1="235" x2="225" y2="245" stroke="#aaa" stroke-width="0.8"/>

                            <!-- Extended Queries -->
                            <rect x="305" y="110" width="170" height="30" rx="4" ry="4" fill="#d5f5e3" stroke="#27ae60" stroke-width="1.5"/>
                            <text x="390" y="130" text-anchor="middle" font-size="11" fill="#1e8449" font-weight="bold">Extended Queries</text>

                            <line x1="345" y1="140" x2="345" y2="160" stroke="#aaa" stroke-width="1"/>
                            <line x1="435" y1="140" x2="435" y2="160" stroke="#aaa" stroke-width="1"/>

                            <rect x="300" y="160" width="130" height="90" rx="3" ry="3" fill="#fafafa" stroke="#aaa" stroke-width="1"/>
                            <text x="365" y="178" text-anchor="middle" font-size="10" fill="#333" font-weight="bold">N-way Combos</text>
                            <line x1="310" y1="183" x2="420" y2="183" stroke="#eee" stroke-width="1"/>
                            <text x="365" y="196" text-anchor="middle" font-size="8.5" fill="#555">2-object pairs</text>
                            <text x="365" y="210" text-anchor="middle" font-size="8.5" fill="#555">3-object triples</text>
                            <text x="365" y="224" text-anchor="middle" font-size="8.5" fill="#555">4-object quads</text>
                            <text x="365" y="240" text-anchor="middle" font-size="8.5" fill="#555">(via self-joins)</text>

                            <rect x="300" y="260" width="130" height="75" rx="3" ry="3" fill="#fafafa" stroke="#aaa" stroke-width="1"/>
                            <text x="365" y="278" text-anchor="middle" font-size="10" fill="#333" font-weight="bold">Set Operations</text>
                            <line x1="310" y1="283" x2="420" y2="283" stroke="#eee" stroke-width="1"/>
                            <text x="365" y="296" text-anchor="middle" font-size="8.5" fill="#555">Difference (A \ B)</text>
                            <text x="365" y="310" text-anchor="middle" font-size="8.5" fill="#555">Intersection (A ∩ B)</text>
                            <text x="365" y="324" text-anchor="middle" font-size="8.5" fill="#555">Unique to class</text>

                            <rect x="440" y="160" width="130" height="75" rx="3" ry="3" fill="#fafafa" stroke="#aaa" stroke-width="1"/>
                            <text x="505" y="178" text-anchor="middle" font-size="10" fill="#333" font-weight="bold">Aggregation</text>
                            <line x1="450" y1="183" x2="560" y2="183" stroke="#eee" stroke-width="1"/>
                            <text x="505" y="196" text-anchor="middle" font-size="8.5" fill="#555">Avg objects/image</text>
                            <text x="505" y="210" text-anchor="middle" font-size="8.5" fill="#555">Threshold (>p%)</text>
                            <text x="505" y="224" text-anchor="middle" font-size="8.5" fill="#555">Exact count filters</text>

                            <rect x="440" y="245" width="130" height="60" rx="3" ry="3" fill="#fafafa" stroke="#aaa" stroke-width="1"/>
                            <text x="505" y="263" text-anchor="middle" font-size="10" fill="#333" font-weight="bold">Confidence</text>
                            <line x1="450" y1="268" x2="560" y2="268" stroke="#eee" stroke-width="1"/>
                            <text x="505" y="283" text-anchor="middle" font-size="8.5" fill="#555">High-prob images</text>
                            <text x="505" y="297" text-anchor="middle" font-size="8.5" fill="#555">Probability filters</text>

                            <line x1="365" y1="250" x2="365" y2="260" stroke="#aaa" stroke-width="0.8"/>
                            <line x1="505" y1="235" x2="505" y2="245" stroke="#aaa" stroke-width="0.8"/>

                            <!-- Contrastive / Counterfactual -->
                            <rect x="555" y="110" width="200" height="30" rx="4" ry="4" fill="#fdebd0" stroke="#e67e22" stroke-width="1.5"/>
                            <text x="655" y="130" text-anchor="middle" font-size="11" fill="#a04000" font-weight="bold">Contrastive / Counterfactual</text>

                            <line x1="615" y1="140" x2="615" y2="160" stroke="#aaa" stroke-width="1"/>
                            <line x1="695" y1="140" x2="695" y2="160" stroke="#aaa" stroke-width="1"/>

                            <rect x="580" y="160" width="145" height="75" rx="3" ry="3" fill="#fafafa" stroke="#aaa" stroke-width="1"/>
                            <text x="652" y="178" text-anchor="middle" font-size="10" fill="#333" font-weight="bold">Distinguishing</text>
                            <line x1="590" y1="183" x2="715" y2="183" stroke="#eee" stroke-width="1"/>
                            <text x="652" y="196" text-anchor="middle" font-size="8.5" fill="#555">In A but not B</text>
                            <text x="652" y="210" text-anchor="middle" font-size="8.5" fill="#555">Unique features</text>
                            <text x="652" y="224" text-anchor="middle" font-size="8.5" fill="#555">Class separators</text>

                            <rect x="580" y="245" width="145" height="75" rx="3" ry="3" fill="#fafafa" stroke="#aaa" stroke-width="1"/>
                            <text x="652" y="263" text-anchor="middle" font-size="10" fill="#333" font-weight="bold">Absence Analysis</text>
                            <line x1="590" y1="268" x2="715" y2="268" stroke="#eee" stroke-width="1"/>
                            <text x="652" y="283" text-anchor="middle" font-size="8.5" fill="#555">Images WITHOUT obj</text>
                            <text x="652" y="297" text-anchor="middle" font-size="8.5" fill="#555">Missing patterns</text>
                            <text x="652" y="311" text-anchor="middle" font-size="8.5" fill="#555">Negation queries</text>

                            <line x1="652" y1="235" x2="652" y2="245" stroke="#aaa" stroke-width="0.8"/>

                            <!-- SQL Expressiveness box -->
                            <rect x="140" y="370" width="500" height="55" rx="5" ry="5" fill="#f8f8f8" stroke="#ccc" stroke-width="1"/>
                            <text x="390" y="390" text-anchor="middle" font-size="10" fill="#444" font-weight="bold">SQL Expressiveness</text>
                            <line x1="160" y1="396" x2="620" y2="396" stroke="#eee" stroke-width="1"/>
                            <text x="390" y="412" text-anchor="middle" font-size="9" fill="#555">Self-joins (N-way combos) | Subqueries (conditional) | EXISTS/NOT EXISTS (boolean) | Set operations (EXCEPT/INTERSECT)</text>

                            <line x1="140" y1="310" x2="200" y2="370" stroke="#bbb" stroke-width="0.8" stroke-dasharray="3,3"/>
                            <line x1="390" y1="335" x2="390" y2="370" stroke="#bbb" stroke-width="0.8" stroke-dasharray="3,3"/>
                            <line x1="655" y1="320" x2="580" y2="370" stroke="#bbb" stroke-width="0.8" stroke-dasharray="3,3"/>
                        </svg>
                        <p style="text-align:center; font-size:0.85em; color:#666; margin-top:10px; font-style:italic;">Full query pattern taxonomy: 24 templates organized into Core, Extended, and Contrastive/Counterfactual tiers.</p>
                    </div>
                </div>
            </div>
            <div class="dropdown-item">
                <div class="dropdown-header">
                    <span class="header-text">
                        <b>Multimodal output:</b> Each response includes natural language, statistics, and evidence images with highlighted objects.
                    </span>
                    <span class="icon">
                        <i class="fas fa-chevron-down"></i>
                    </span>
                </div>
                <div class="dropdown-content">
                    <p>For each query, GLARE returns three types of output: (1) A natural language summary with relevant statistics (e.g., "Sculptures in living rooms most often appear with walls (80%) followed by sofas (60%)"). (2) Supporting local explanation examples. (3) Visualizations aligned with the user's intent&mdash;including evidence images showing original images, important objects identified by local explanations, and masked images highlighting only the relevant objects.</p>
                </div>
            </div>
            <hr>
        </div>

        <!-- ============================================================ -->
        <!-- SECTION 5: Results -->
        <!-- ============================================================ -->
        <div class="section-container">
            <h2 class="title is-2">Results
                <a class="section-toggle" data-action="expand">[Expand All]</a>
            </h2>

            <div class="dropdown-item">
                <div class="dropdown-header">
                    <span class="header-text">
                        <b>95.2% in-distribution accuracy:</b> Fine-tuned models achieve near-perfect structural metrics and high result-match rates.
                    </span>
                    <span class="icon">
                        <i class="fas fa-chevron-down"></i>
                    </span>
                </div>
                <div class="dropdown-content">
                    <p>On 500 held-out test queries, Gemma 2-9B achieves 100% fence detection, 100% SQL parse rate, 100% execution rate, and 95.2% result-match accuracy. An additional 2.4% of examples achieve partial matches (Jaccard > 0.5), bringing effective accuracy above 97%. Performance saturates across model scales: Gemma 2 at 2B, 9B, and 27B all achieve ~95% accuracy.</p>
                    <p><strong>Base models (without fine-tuning) achieve near-zero accuracy</strong>, confirming that our synthetic training pipeline is essential&mdash;not just pre-existing SQL knowledge.</p>
                </div>
            </div>
            <div class="dropdown-item">
                <div class="dropdown-header">
                    <span class="header-text">
                        <b>100% accuracy on 18 of 25 query types:</b> Perfect performance on percentages, ranking, co-occurrence, set operations, and more.
                    </span>
                    <span class="icon">
                        <i class="fas fa-chevron-down"></i>
                    </span>
                </div>
                <div class="dropdown-content">
                    <p>The per-query-type breakdown shows 100% accuracy on 18 of 25 evaluated query types, spanning percentage calculations, top-k ranking, co-occurrence joins, set operations, conditional existence checks, threshold filtering, and statistical aggregations. The two underperforming types (<code>combos</code> at 49% and <code>images_with_exact_count</code> at 43%) involve complex multi-way self-joins and exact-count HAVING clauses.</p>
                </div>
            </div>

            <!-- ACCURACY COMPARISON CHART -->
            <div class="results-chart-container">
                <div class="chart-title">
                    <h3>In-Distribution Result-Match Accuracy (%)</h3>
                    <p>Fine-tuned models on ADE20K Fresh Test set (500 examples)</p>
                </div>

                <div class="chart">
                    <div class="chart-row">
                        <div class="chart-label">Gemma 2 (9B) FT</div>
                        <div class="chart-bar-container"><div class="chart-bar" style="width: 95.2%; background: #00A3A1;">95.2%</div></div>
                    </div>
                    <div class="chart-row">
                        <div class="chart-label">Gemma 2 (27B) FT</div>
                        <div class="chart-bar-container"><div class="chart-bar" style="width: 95.2%; background: #2ab8b6;">95.2%</div></div>
                    </div>
                    <div class="chart-row">
                        <div class="chart-label">Gemma 2 (2B) FT</div>
                        <div class="chart-bar-container"><div class="chart-bar" style="width: 95.4%; background: #4dc9c7;">95.4%</div></div>
                    </div>
                    <div class="chart-row">
                        <div class="chart-label">Qwen 2.5 (14B) FT</div>
                        <div class="chart-bar-container"><div class="chart-bar" style="width: 95.4%; background: #7ab8b6;">95.4%</div></div>
                    </div>
                    <div class="chart-row">
                        <div class="chart-label">Qwen 2.5 (7B) FT</div>
                        <div class="chart-bar-container"><div class="chart-bar" style="width: 93%; background: #9ec5c4;">93.0%</div></div>
                    </div>
                    <div class="chart-divider" style="margin-left:0"></div>
                    <div class="chart-row">
                        <div class="chart-label" style="color:#c0392b;">Gemma 2 (9B) Base</div>
                        <div class="chart-bar-container"><div class="chart-bar small-text" style="width: 2%; background: #e74c3c;">0.2%</div></div>
                    </div>
                    <div class="chart-row">
                        <div class="chart-label" style="color:#c0392b;">Qwen 2.5 (7B) Base</div>
                        <div class="chart-bar-container"><div class="chart-bar small-text" style="width: 4%; background: #c0392b;">3.2%</div></div>
                    </div>
                    <div class="chart-row">
                        <div class="chart-label" style="color:#c0392b;">Qwen 2.5 (0.5B) FT</div>
                        <div class="chart-bar-container"><div class="chart-bar small-text" style="width: 5%; background: #922b21;">4.4%</div></div>
                    </div>
                </div>
                <p class="chart-caption">Fine-tuned models achieve ~95% accuracy across scales. Base models score near 0%, confirming the value of synthetic training. A minimum model capacity (~2B+ params) is required.</p>
            </div>

            <div class="dropdown-item">
                <div class="dropdown-header">
                    <span class="header-text">
                        <b>Robust to input perturbations:</b> 100% robustness to synonyms, 97% to verbose padding, 89% to spelling errors.
                    </span>
                    <span class="icon">
                        <i class="fas fa-chevron-down"></i>
                    </span>
                </div>
                <div class="dropdown-content">
                    <p>The model is tested against 7 perturbation types: synonym substitution (100% robustness), verbose padding (97%), spelling errors (89%), telegraphic compression (84%), word swap (82%), grammar corruption (76%), and word drop (48%). Word drop is inherently damaging&mdash;removing object or class names destroys the information needed for correct SQL. Paraphrase consistency reaches 94.1%, and all sanity checks pass (100%).</p>
                </div>
            </div>

            <!-- ROBUSTNESS CHART -->
            <div class="results-chart-container">
                <div class="chart-title">
                    <h3>Robustness to Input Perturbations</h3>
                    <p>% of baseline accuracy preserved under each perturbation (Gemma 2-9B)</p>
                </div>

                <div class="chart">
                    <div class="chart-row">
                        <div class="chart-label">Synonym substitution</div>
                        <div class="chart-bar-container"><div class="chart-bar" style="width: 100%; background: #27ae60;">100%</div></div>
                    </div>
                    <div class="chart-row">
                        <div class="chart-label">Verbose padding</div>
                        <div class="chart-bar-container"><div class="chart-bar" style="width: 97%; background: #2ecc71;">97%</div></div>
                    </div>
                    <div class="chart-row">
                        <div class="chart-label">Spelling errors</div>
                        <div class="chart-bar-container"><div class="chart-bar" style="width: 89%; background: #f39c12;">89%</div></div>
                    </div>
                    <div class="chart-row">
                        <div class="chart-label">Telegraphic</div>
                        <div class="chart-bar-container"><div class="chart-bar" style="width: 84%; background: #e67e22;">84%</div></div>
                    </div>
                    <div class="chart-row">
                        <div class="chart-label">Word swap</div>
                        <div class="chart-bar-container"><div class="chart-bar" style="width: 82%; background: #e67e22;">82%</div></div>
                    </div>
                    <div class="chart-row">
                        <div class="chart-label">Grammar corruption</div>
                        <div class="chart-bar-container"><div class="chart-bar" style="width: 76%; background: #e74c3c;">76%</div></div>
                    </div>
                    <div class="chart-row">
                        <div class="chart-label">Word drop</div>
                        <div class="chart-bar-container"><div class="chart-bar" style="width: 48%; background: #c0392b;">48%</div></div>
                    </div>
                </div>
                <p class="chart-caption">The learned SQL mapping is largely invariant to lexical and syntactic surface variation. Word drop is inherently destructive&mdash;removing entity names eliminates the information needed for correct SQL.</p>
            </div>

            <div class="dropdown-item">
                <div class="dropdown-header">
                    <span class="header-text">
                        <b>Zero-shot cross-dataset transfer at 90.6%:</b> Trained on ADE20K, tested on Pascal VOC with a completely different vocabulary&mdash;no retraining.
                    </span>
                    <span class="icon">
                        <i class="fas fa-chevron-down"></i>
                    </span>
                </div>
                <div class="dropdown-content">
                    <p>The model, trained exclusively on ADE20K entity names (150 objects, 20 scene classes), is tested on a database built from Pascal VOC (166 objects, different scene taxonomy). Gemma 2-27B achieves 90.6% result-match accuracy with perfect structural metrics. This is the strongest evidence that the model learns generalizable <em>relational structure</em>&mdash;SQL's compositionality separates query structure from vocabulary, enabling deployment on any new database without retraining.</p>
                </div>
            </div>

            <!-- CROSS-DATASET CHART -->
            <div class="results-chart-container">
                <div class="chart-title">
                    <h3>Cross-Dataset Transfer: ADE20K &rarr; Pascal VOC</h3>
                    <p>Models trained on ADE20K, tested on Pascal VOC (completely different object vocabulary)</p>
                </div>

                <div class="chart">
                    <div class="chart-row">
                        <div class="chart-label">Gemma 2 (27B)</div>
                        <div class="chart-bar-container"><div class="chart-bar" style="width: 90.6%; background: #2980b9;">90.6%</div></div>
                    </div>
                    <div class="chart-row">
                        <div class="chart-label">Gemma 2 (2B)</div>
                        <div class="chart-bar-container"><div class="chart-bar" style="width: 90%; background: #3498db;">90.0%</div></div>
                    </div>
                    <div class="chart-row">
                        <div class="chart-label">Qwen 2.5 (14B)</div>
                        <div class="chart-bar-container"><div class="chart-bar" style="width: 90%; background: #5dade2;">90.0%</div></div>
                    </div>
                    <div class="chart-row">
                        <div class="chart-label">Gemma 2 (9B)</div>
                        <div class="chart-bar-container"><div class="chart-bar" style="width: 89.6%; background: #85c1e9;">89.6%</div></div>
                    </div>
                    <div class="chart-row">
                        <div class="chart-label">Qwen 2.5 (7B)</div>
                        <div class="chart-bar-container"><div class="chart-bar" style="width: 87.2%; background: #aed6f1;">87.2%</div></div>
                    </div>
                </div>
                <p class="chart-caption">The model learns SQL's compositional structure, not dataset-specific entity associations. Even 2B-parameter models transfer at 90%.</p>
            </div>

            <div class="dropdown-item">
                <div class="dropdown-header">
                    <span class="header-text">
                        <b>OOD generalization:</b> 45% on novel phrasing, 100% on some emergent compositions, graceful degradation on unseen SQL.
                    </span>
                    <span class="icon">
                        <i class="fas fa-chevron-down"></i>
                    </span>
                </div>
                <div class="dropdown-content">
                    <p>Out-of-distribution evaluation probes two aspects: (1) Novel phrasing of trained patterns (45.1% match)&mdash;the model handles nested questions (90%), negations (70%), and zero-threshold queries (100%), but struggles with informal language (12%) and double negation (0%). (2) Novel SQL constructs absent from training (19.5% match)&mdash;chained filters (100%) and string patterns (100%) work via compositional generalization, while window functions and CASE expressions (0%) confirm the model cannot extrapolate to truly novel SQL syntax. Critically, even on unsupported constructs, the model maintains 99.3% execution rate by falling back to the closest known template&mdash;graceful degradation.</p>
                </div>
            </div>

            <!-- Detailed Tables -->
            <div class="dropdown-item">
                <div class="dropdown-header">
                    <span class="header-text">
                        <b>View Full Results Table:</b> All models, base vs. fine-tuned, across all evaluation axes
                    </span>
                    <span class="icon">
                        <i class="fas fa-chevron-down"></i>
                    </span>
                </div>
                <div class="dropdown-content">
                    <div class="table-caption">
                        <b>In-distribution performance</b> on the ADE20K Fresh Test set (500 examples).
                    </div>
                    <div class="results-table-container">
                        <table class="results-table">
                            <thead>
                                <tr>
                                    <th class="model-col">Model</th>
                                    <th class="setting-col">Setting</th>
                                    <th>Fence %</th>
                                    <th>Parse %</th>
                                    <th>Execute %</th>
                                    <th>Match %</th>
                                    <th>Partial %</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td class="model-col">Gemma 2 (2B)</td><td class="setting-col">base</td>
                                    <td>71.2</td><td>6.2</td><td>6.2</td><td>0.0</td><td>0.4</td>
                                </tr>
                                <tr>
                                    <td class="model-col">Gemma 2 (2B)</td><td class="setting-col">fine-tuned</td>
                                    <td class="c-high"><strong>100.0</strong></td><td class="c-high"><strong>100.0</strong></td><td class="c-high"><strong>100.0</strong></td><td class="c-high"><strong>95.4</strong></td><td>2.8</td>
                                </tr>
                                <tr><td colspan="7" style="background-color: #fafafa; height: 3px; border: 0;"></td></tr>
                                <tr>
                                    <td class="model-col">Gemma 2 (9B)</td><td class="setting-col">base</td>
                                    <td>100</td><td>3.2</td><td>3.2</td><td>0.2</td><td>0.4</td>
                                </tr>
                                <tr>
                                    <td class="model-col">Gemma 2 (9B)</td><td class="setting-col">fine-tuned</td>
                                    <td class="c-high"><strong>100.0</strong></td><td class="c-high"><strong>100.0</strong></td><td class="c-high"><strong>100.0</strong></td><td class="c-high"><strong>95.2</strong></td><td>2.4</td>
                                </tr>
                                <tr><td colspan="7" style="background-color: #fafafa; height: 3px; border: 0;"></td></tr>
                                <tr>
                                    <td class="model-col">Gemma 2 (27B)</td><td class="setting-col">base</td>
                                    <td>100.0</td><td>0.6</td><td>0.6</td><td>0.0</td><td>0.2</td>
                                </tr>
                                <tr>
                                    <td class="model-col">Gemma 2 (27B)</td><td class="setting-col">fine-tuned</td>
                                    <td class="c-high"><strong>100.0</strong></td><td class="c-high"><strong>100.0</strong></td><td class="c-high"><strong>100.0</strong></td><td class="c-high"><strong>95.2</strong></td><td>3.0</td>
                                </tr>
                                <tr><td colspan="7" style="background-color: #fafafa; height: 3px; border: 0;"></td></tr>
                                <tr>
                                    <td class="model-col">Qwen 2.5 (0.5B)</td><td class="setting-col">fine-tuned</td>
                                    <td>93.8</td><td>4.6</td><td>4.6</td><td>4.4</td><td>0.0</td>
                                </tr>
                                <tr>
                                    <td class="model-col">Qwen 2.5 (7B)</td><td class="setting-col">fine-tuned</td>
                                    <td class="c-high"><strong>100.0</strong></td><td class="c-med">97.6</td><td class="c-med">97.6</td><td class="c-high"><strong>93.0</strong></td><td>3.0</td>
                                </tr>
                                <tr>
                                    <td class="model-col">Qwen 2.5 (14B)</td><td class="setting-col">fine-tuned</td>
                                    <td class="c-high"><strong>100.0</strong></td><td class="c-high"><strong>100.0</strong></td><td class="c-high"><strong>100.0</strong></td><td class="c-high"><strong>95.4</strong></td><td>2.6</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                    <div class="table-caption" style="margin-top: 25px;">
                        <b>Cross-model comparison</b> across all evaluation axes.
                    </div>
                    <div class="results-table-container">
                        <table class="results-table">
                            <thead>
                                <tr>
                                    <th class="model-col">Model</th>
                                    <th>Params</th>
                                    <th>Fresh %</th>
                                    <th>OOD %</th>
                                    <th>Pascal %</th>
                                    <th>Robust %</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td class="model-col">Gemma 2</td><td>2B</td>
                                    <td class="c-high"><strong>95.4</strong></td><td>30.3</td><td class="c-high"><strong>90.0</strong></td><td class="c-med">78.9</td>
                                </tr>
                                <tr>
                                    <td class="model-col">Gemma 2</td><td>9B</td>
                                    <td class="c-high"><strong>95.2</strong></td><td>35.0</td><td class="c-med">89.6</td><td class="c-med">82.8</td>
                                </tr>
                                <tr>
                                    <td class="model-col">Gemma 2</td><td>27B</td>
                                    <td class="c-high"><strong>95.2</strong></td><td>34.3</td><td class="c-high"><strong>90.6</strong></td><td class="c-med">85.9</td>
                                </tr>
                                <tr><td colspan="6" style="background-color: #fafafa; height: 3px; border: 0;"></td></tr>
                                <tr>
                                    <td class="model-col">Qwen 2.5</td><td>0.5B</td>
                                    <td>4.4</td><td>4.7</td><td>4.4</td><td class="p-low">54.4</td>
                                </tr>
                                <tr>
                                    <td class="model-col">Qwen 2.5</td><td>7B</td>
                                    <td class="c-high"><strong>93.0</strong></td><td class="p-low"><strong>40.0</strong></td><td class="c-med">87.2</td><td class="c-med">82.2</td>
                                </tr>
                                <tr>
                                    <td class="model-col">Qwen 2.5</td><td>14B</td>
                                    <td class="c-high"><strong>95.4</strong></td><td class="p-low"><strong>40.0</strong></td><td class="c-high"><strong>90.0</strong></td><td class="c-med">82.5</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
            <hr>
        </div>

        <!-- ============================================================ -->
        <!-- SECTION 6: Case Studies -->
        <!-- ============================================================ -->
        <div class="section-container">
            <h2 class="title is-2">Case Studies
                <a class="section-toggle" data-action="expand">[Expand All]</a>
            </h2>

            <div class="dropdown-item">
                <div class="dropdown-header">
                    <span class="header-text">
                        <b>End-to-end multimodal response:</b> Co-occurrence query produces NL summary, statistics, and visual grounding.
                    </span>
                    <span class="icon">
                        <i class="fas fa-chevron-down"></i>
                    </span>
                </div>
                <div class="dropdown-content">
                    <div class="query-example">
                        <div class="query-q">"In living_room, what objects appear with sculpture?"</div>
                        <div class="query-a">"Sculptures in living rooms most often appear with walls (80% of the time), followed by sofas (60%). Other common objects found alongside sculptures include cushions, coffee tables, and windowpanes."</div>
                    </div>
                    <p>The system generates a complex co-occurrence SQL query with correlated subquery, executes it, and returns a multi-modal response: fluent NL summary, quantitative statistics (wall 80%, sofa 60%, cushion 53%...), and top-3 evidence images showing original images, important objects, and masked highlights.</p>

                    <!-- Case Study Figure: End-to-end multimodal response -->
                    <div class="pipeline-container" style="margin-top:20px;">
                        <svg viewBox="0 0 860 580" xmlns="http://www.w3.org/2000/svg">
                            <defs>
                                <marker id="cs-arrow" markerWidth="7" markerHeight="5" refX="7" refY="2.5" orient="auto">
                                    <polygon points="0 0, 7 2.5, 0 5" fill="#444"/>
                                </marker>
                                <marker id="cs-arrow-green" markerWidth="7" markerHeight="5" refX="7" refY="2.5" orient="auto">
                                    <polygon points="0 0, 7 2.5, 0 5" fill="#27ae60"/>
                                </marker>
                            </defs>

                            <text x="430" y="22" text-anchor="middle" font-size="13" fill="#333" font-weight="bold">End-to-End Case Study: Co-occurrence Query</text>

                            <!-- Step 1: User Query -->
                            <rect x="30" y="40" width="800" height="42" rx="20" ry="20" fill="#eef2ff" stroke="#3273dc" stroke-width="1.5"/>
                            <text x="50" y="56" font-size="10" fill="#3273dc" font-weight="bold">USER QUERY</text>
                            <text x="50" y="72" font-size="11" fill="#333" font-style="italic">"In living_room, what objects appear with sculpture?"</text>

                            <!-- Arrow down -->
                            <line x1="430" y1="82" x2="430" y2="100" stroke="#444" stroke-width="1.2" marker-end="url(#cs-arrow)"/>

                            <!-- Step 2: Generated SQL -->
                            <rect x="30" y="105" width="800" height="58" rx="5" ry="5" fill="#f5f0ff" stroke="#7c3aed" stroke-width="1.2"/>
                            <text x="50" y="122" font-size="10" fill="#7c3aed" font-weight="bold">GENERATED SQL</text>
                            <text x="50" y="140" font-size="9" fill="#555" font-family="monospace">SELECT io2.object_name, COUNT(DISTINCT i.image_id) AS co_count,</text>
                            <text x="50" y="153" font-size="9" fill="#555" font-family="monospace">  ROUND(COUNT(DISTINCT i.image_id)*100.0 / (SELECT COUNT(DISTINCT i2.image_id) FROM images i2 JOIN image_objects io3 ON ... ), 2) AS pct</text>

                            <!-- Arrow down -->
                            <line x1="430" y1="163" x2="430" y2="181" stroke="#444" stroke-width="1.2" marker-end="url(#cs-arrow)"/>

                            <!-- Step 3: Query Results -->
                            <rect x="30" y="186" width="380" height="150" rx="5" ry="5" fill="#f8faf8" stroke="#27ae60" stroke-width="1.2"/>
                            <text x="50" y="206" font-size="10" fill="#27ae60" font-weight="bold">QUERY RESULTS</text>

                            <!-- Results table header -->
                            <rect x="50" y="215" width="120" height="18" rx="2" ry="2" fill="#e8f5e9"/>
                            <text x="110" y="228" text-anchor="middle" font-size="9" fill="#333" font-weight="bold">Object</text>
                            <rect x="170" y="215" width="60" height="18" rx="2" ry="2" fill="#e8f5e9"/>
                            <text x="200" y="228" text-anchor="middle" font-size="9" fill="#333" font-weight="bold">Count</text>
                            <rect x="230" y="215" width="60" height="18" rx="2" ry="2" fill="#e8f5e9"/>
                            <text x="260" y="228" text-anchor="middle" font-size="9" fill="#333" font-weight="bold">Pct (%)</text>

                            <!-- Table rows -->
                            <text x="110" y="248" text-anchor="middle" font-size="9" fill="#333">wall</text>
                            <text x="200" y="248" text-anchor="middle" font-size="9" fill="#333">12</text>
                            <text x="260" y="248" text-anchor="middle" font-size="9" fill="#1e8449" font-weight="bold">80.0</text>

                            <text x="110" y="264" text-anchor="middle" font-size="9" fill="#333">sofa</text>
                            <text x="200" y="264" text-anchor="middle" font-size="9" fill="#333">9</text>
                            <text x="260" y="264" text-anchor="middle" font-size="9" fill="#1e8449" font-weight="bold">60.0</text>

                            <text x="110" y="280" text-anchor="middle" font-size="9" fill="#333">cushion</text>
                            <text x="200" y="280" text-anchor="middle" font-size="9" fill="#333">8</text>
                            <text x="260" y="280" text-anchor="middle" font-size="9" fill="#555">53.3</text>

                            <text x="110" y="296" text-anchor="middle" font-size="9" fill="#333">coffee_table</text>
                            <text x="200" y="296" text-anchor="middle" font-size="9" fill="#333">7</text>
                            <text x="260" y="296" text-anchor="middle" font-size="9" fill="#555">46.7</text>

                            <text x="110" y="312" text-anchor="middle" font-size="9" fill="#333">windowpane</text>
                            <text x="200" y="312" text-anchor="middle" font-size="9" fill="#333">6</text>
                            <text x="260" y="312" text-anchor="middle" font-size="9" fill="#555">40.0</text>

                            <text x="110" y="328" text-anchor="middle" font-size="8" fill="#999">...</text>

                            <!-- NL Answer -->
                            <rect x="440" y="186" width="390" height="150" rx="5" ry="5" fill="#eaf7ea" stroke="#27ae60" stroke-width="1.5"/>
                            <text x="460" y="206" font-size="10" fill="#1e8449" font-weight="bold">NATURAL LANGUAGE ANSWER</text>
                            <text x="460" y="228" font-size="10" fill="#333">"Sculptures in living rooms most often</text>
                            <text x="460" y="244" font-size="10" fill="#333">appear with walls (80% of the time),</text>
                            <text x="460" y="260" font-size="10" fill="#333">followed by sofas (60%). Other common</text>
                            <text x="460" y="276" font-size="10" fill="#333">objects found alongside sculptures include</text>
                            <text x="460" y="292" font-size="10" fill="#333">cushions (53%), coffee tables (47%),</text>
                            <text x="460" y="308" font-size="10" fill="#333">and windowpanes (40%)."</text>

                            <!-- Arrow down -->
                            <line x1="430" y1="340" x2="430" y2="360" stroke="#27ae60" stroke-width="1.5" marker-end="url(#cs-arrow-green)"/>
                            <text x="430" y="355" text-anchor="middle" font-size="9" fill="#27ae60" font-weight="bold">+ visual evidence</text>

                            <!-- Evidence Images Section -->
                            <rect x="30" y="370" width="800" height="195" rx="8" ry="8" fill="#fafafa" stroke="#ddd" stroke-width="1"/>
                            <text x="430" y="392" text-anchor="middle" font-size="10" fill="#555" font-weight="bold">EVIDENCE IMAGES (Top-3 Supporting Examples)</text>

                            <!-- Image 1 -->
                            <rect x="55" y="405" width="100" height="70" rx="4" ry="4" fill="#e0e0e0" stroke="#bbb" stroke-width="1"/>
                            <rect x="62" y="412" width="30" height="20" rx="2" ry="2" fill="#d4a574" stroke="none"/>
                            <rect x="58" y="435" width="90" height="30" rx="2" ry="2" fill="#c9b896" stroke="none"/>
                            <rect x="100" y="410" width="45" height="55" rx="2" ry="2" fill="#8e9eab" stroke="none" fill-opacity="0.5"/>
                            <text x="105" y="485" text-anchor="middle" font-size="8" fill="#555">Original</text>

                            <rect x="170" y="405" width="100" height="70" rx="4" ry="4" fill="#f5f5f5" stroke="#bbb" stroke-width="1"/>
                            <rect x="177" y="412" width="30" height="20" rx="2" ry="2" fill="#d4a574" stroke="#e74c3c" stroke-width="2"/>
                            <rect x="215" y="410" width="45" height="55" rx="2" ry="2" fill="#8e9eab" stroke="#3498db" stroke-width="2" fill-opacity="0.5"/>
                            <rect x="173" y="435" width="90" height="30" rx="2" ry="2" fill="#c9b896" stroke="#27ae60" stroke-width="2"/>
                            <text x="220" y="485" text-anchor="middle" font-size="8" fill="#555">Important Objects</text>

                            <rect x="285" y="405" width="100" height="70" rx="4" ry="4" fill="#333" stroke="#bbb" stroke-width="1"/>
                            <rect x="292" y="412" width="30" height="20" rx="2" ry="2" fill="#d4a574" stroke="none"/>
                            <rect x="330" y="410" width="45" height="55" rx="2" ry="2" fill="#8e9eab" stroke="none" fill-opacity="0.7"/>
                            <rect x="288" y="435" width="90" height="30" rx="2" ry="2" fill="#c9b896" stroke="none"/>
                            <text x="335" y="485" text-anchor="middle" font-size="8" fill="#555">Masked</text>

                            <!-- Image 2 -->
                            <rect x="420" y="405" width="100" height="70" rx="4" ry="4" fill="#ddd8d0" stroke="#bbb" stroke-width="1"/>
                            <rect x="427" y="415" width="25" height="50" rx="2" ry="2" fill="#a0a0a0" stroke="none"/>
                            <rect x="460" y="425" width="50" height="40" rx="2" ry="2" fill="#b8a88a" stroke="none"/>
                            <text x="470" y="485" text-anchor="middle" font-size="8" fill="#555">Original</text>

                            <rect x="535" y="405" width="100" height="70" rx="4" ry="4" fill="#f5f5f5" stroke="#bbb" stroke-width="1"/>
                            <rect x="542" y="415" width="25" height="50" rx="2" ry="2" fill="#a0a0a0" stroke="#e74c3c" stroke-width="2"/>
                            <rect x="575" y="425" width="50" height="40" rx="2" ry="2" fill="#b8a88a" stroke="#27ae60" stroke-width="2"/>
                            <text x="585" y="485" text-anchor="middle" font-size="8" fill="#555">Important Objects</text>

                            <rect x="650" y="405" width="100" height="70" rx="4" ry="4" fill="#333" stroke="#bbb" stroke-width="1"/>
                            <rect x="657" y="415" width="25" height="50" rx="2" ry="2" fill="#a0a0a0" stroke="none" fill-opacity="0.7"/>
                            <rect x="690" y="425" width="50" height="40" rx="2" ry="2" fill="#b8a88a" stroke="none"/>
                            <text x="700" y="485" text-anchor="middle" font-size="8" fill="#555">Masked</text>

                            <!-- Labels for evidence grouping -->
                            <text x="220" y="505" text-anchor="middle" font-size="8.5" fill="#888">Example 1 (sculpture + wall + sofa)</text>
                            <text x="585" y="505" text-anchor="middle" font-size="8.5" fill="#888">Example 2 (sculpture + wall + cushion)</text>

                            <!-- Color legend -->
                            <rect x="55" y="520" width="10" height="10" rx="2" ry="2" fill="none" stroke="#e74c3c" stroke-width="2"/>
                            <text x="72" y="529" font-size="8" fill="#555">sculpture (query anchor)</text>
                            <rect x="215" y="520" width="10" height="10" rx="2" ry="2" fill="none" stroke="#27ae60" stroke-width="2"/>
                            <text x="232" y="529" font-size="8" fill="#555">co-occurring objects</text>
                            <rect x="375" y="520" width="10" height="10" rx="2" ry="2" fill="none" stroke="#3498db" stroke-width="2"/>
                            <text x="392" y="529" font-size="8" fill="#555">other detected objects</text>

                            <!-- Co-occurrence mini bar chart -->
                            <rect x="55" y="540" width="336" height="7" rx="3" ry="3" fill="#eee"/>
                            <rect x="55" y="540" width="269" height="7" rx="3" ry="3" fill="#27ae60" fill-opacity="0.7"/>
                            <text x="55" y="558" font-size="7.5" fill="#555">wall: 80%</text>

                            <rect x="55" y="562" width="336" height="7" rx="3" ry="3" fill="#eee"/>
                            <rect x="55" y="562" width="202" height="7" rx="3" ry="3" fill="#27ae60" fill-opacity="0.5"/>
                            <text x="55" y="580" font-size="7.5" fill="#555">sofa: 60%</text>

                            <rect x="430" y="540" width="336" height="7" rx="3" ry="3" fill="#eee"/>
                            <rect x="430" y="540" width="179" height="7" rx="3" ry="3" fill="#27ae60" fill-opacity="0.4"/>
                            <text x="430" y="558" font-size="7.5" fill="#555">cushion: 53%</text>

                            <rect x="430" y="562" width="336" height="7" rx="3" ry="3" fill="#eee"/>
                            <rect x="430" y="562" width="157" height="7" rx="3" ry="3" fill="#27ae60" fill-opacity="0.3"/>
                            <text x="430" y="580" font-size="7.5" fill="#555">coffee_table: 47%</text>
                        </svg>
                        <p style="text-align:center; font-size:0.85em; color:#666; margin-top:10px; font-style:italic;">Full end-to-end case study: from natural language question through SQL generation, execution, structured results, NL answer, and visual evidence with highlighted objects.</p>
                    </div>
                </div>
            </div>
            <div class="dropdown-item">
                <div class="dropdown-header">
                    <span class="header-text">
                        <b>Character-identical SQL on held-out queries:</b> Novel entity combinations produce exact SQL matches.
                    </span>
                    <span class="icon">
                        <i class="fas fa-chevron-down"></i>
                    </span>
                </div>
                <div class="dropdown-content">
                    <div class="query-example">
                        <div class="query-q">"What % of corridor images with probability at least 0.7 contain stool?"</div>
                        <div class="query-a">"About 0.14% of corridor images with a probability of at least 0.7 contain a stool."</div>
                    </div>
                    <p>The predicted SQL is <em>character-for-character identical</em> to the gold standard. This is not an isolated case&mdash;it holds for existence checks, probability-filtered queries, and many more. The model has internalized SQL's compositional structure as reusable rules rather than memorized surface strings: the specific entity names (<code>stool</code>, <code>corridor</code>, <code>0.7</code>) never co-occur in training.</p>
                </div>
            </div>
            <div class="dropdown-item">
                <div class="dropdown-header">
                    <span class="header-text">
                        <b>Cross-dataset transfer with 4-way self-joins:</b> Pascal VOC body-part vocabulary produces perfect SQL on first try.
                    </span>
                    <span class="icon">
                        <i class="fas fa-chevron-down"></i>
                    </span>
                </div>
                <div class="dropdown-content">
                    <div class="query-example">
                        <div class="query-q">"Rarest 4-object pairs in aeroplane?"</div>
                        <div class="query-a">"The rarest 4-object pairs in aeroplane images are 'lear', 'torso', 'body', and either 'rhand', 'rlarm', or 'ruarm', each appearing only 2 times."</div>
                    </div>
                    <p>The model, trained on ADE20K with objects like <code>wall</code> and <code>bed</code>, produces a character-identical 4-way self-join query over Pascal VOC body-part vocabulary (<code>lear</code>, <code>torso</code>, <code>rhand</code>) it has never seen. The critical ordering constraint <code>io1.object_id < io2.object_id < io3.object_id < io4.object_id</code> that prevents duplicate combinations is reproduced exactly.</p>
                </div>
            </div>
            <div class="dropdown-item">
                <div class="dropdown-header">
                    <span class="header-text">
                        <b>Graceful failure modes:</b> Informal language causes template mis-routing, not crashes. Double negation is unsupported but handled safely.
                    </span>
                    <span class="icon">
                        <i class="fas fa-chevron-down"></i>
                    </span>
                </div>
                <div class="dropdown-content">
                    <div class="query-example">
                        <div class="query-q">"yo how many street pics got water in them"</div>
                        <div class="query-a">"There are 13 street pictures that contain water." (Returns count instead of intended percentage&mdash;correct entity extraction, wrong template selection)</div>
                    </div>
                    <div class="query-example">
                        <div class="query-q">"What percentage of conference_room images are not without screen?"</div>
                        <div class="query-a">"97.38% of conference room images do not show a screen." (Treats double negation as single negation&mdash;returns 97.38% instead of 1.20%)</div>
                    </div>
                    <p>Failure modes are well-characterized: <em>parameter-level errors</em> (incorrect thresholds in ambiguous cases), <em>template mis-routing under register shift</em> (informal language maps to wrong template), and <em>pragmatic reasoning failures</em> (double negation). All are addressable through the same lightweight pipeline: adding templates or phrasing styles requires only updating the synthetic data generator.</p>
                </div>
            </div>
            <hr>
        </div>

        <!-- ============================================================ -->
        <!-- SECTION 7: Technical Details -->
        <!-- ============================================================ -->
        <div class="section-container">
            <h2 class="title is-2">Technical Details
                <a class="section-toggle" data-action="expand">[Expand All]</a>
            </h2>

            <div class="dropdown-item">
                <div class="dropdown-header">
                    <span class="header-text">
                        <b>Training setup:</b> 50,000 synthetic examples, QLoRA fine-tuning, fence-based loss masking on SQL tokens only.
                    </span>
                    <span class="icon">
                        <i class="fas fa-chevron-down"></i>
                    </span>
                </div>
                <div class="dropdown-content">
                    <p>Training examples are generated synthetically by sampling from 24 query templates. Each template produces a (natural-language question, SQL query) pair by randomly selecting objects and scene classes from the ADE20K vocabulary. We generate 50,000 training pairs and 2,000 validation pairs. During fine-tuning, the <code>SqlFenceCollator</code> masks the training loss to only tokens between <code>SQL_START</code> and <code>SQL_END</code>, focusing learning exclusively on SQL generation.</p>
                </div>
            </div>
            <div class="dropdown-item">
                <div class="dropdown-header">
                    <span class="header-text">
                        <b>Architecture:</b> Gemma 2-9B with LoRA rank 16, alpha 32, targeting all attention and MLP projections.
                    </span>
                    <span class="icon">
                        <i class="fas fa-chevron-down"></i>
                    </span>
                </div>
                <div class="dropdown-content">
                    <p>We fine-tune Gemma 2-9B using Low-Rank Adaptation (LoRA) with 4-bit quantization (QLoRA). Configuration: LoRA rank 16, alpha 32, dropout 0.05. Targets: all attention projections (q, k, v, o) and MLP projections (gate, up, down). The same configuration is applied across all model sizes (2B, 9B, 27B for Gemma; 0.5B, 7B, 14B for Qwen).</p>
                </div>
            </div>
            <div class="dropdown-item">
                <div class="dropdown-header">
                    <span class="header-text">
                        <b>Explanation database:</b> Built from mDNF explanations of a VGG19 model on ADE20K (150 objects, 35 scene classes).
                    </span>
                    <span class="icon">
                        <i class="fas fa-chevron-down"></i>
                    </span>
                </div>
                <div class="dropdown-content">
                    <p>The reference database is built from monotonic Disjunctive Normal Form (mDNF) explanations of a VGG19 classifier computed over the ADE20K dataset. Each class's explanation is a disjunction of conjunctions, where each conjunction is a Minimal Sufficient Explanation (MSX)&mdash;a minimal set of objects whose presence is sufficient for classification. The system can accommodate any local explanation algorithm that generates explanations in symbolic form.</p>
                </div>
            </div>
            <div class="dropdown-item">
                <div class="dropdown-header">
                    <span class="header-text">
                        <b>Evaluation metrics:</b> Fence detection, SQL parse rate, execution rate, result match (relaxed), and partial match (Jaccard).
                    </span>
                    <span class="icon">
                        <i class="fas fa-chevron-down"></i>
                    </span>
                </div>
                <div class="dropdown-content">
                    <p>We evaluate generated SQL by executing it against the ground-truth database. <strong>Fence Detection</strong>: correct SQL_START/SQL_END delimiters. <strong>SQL Parse Rate</strong>: syntactically valid SQL. <strong>Execution Rate</strong>: runs without error. <strong>Result Match</strong>: relaxed matching (tolerates row-order, LIMIT differences, extra columns, and 1% numeric tolerance). <strong>Partial Match</strong>: Jaccard similarity > 0.5 on first-column values. Additional robustness metrics include robustness score, consistency rate, and sanity pass rate.</p>
                </div>
            </div>
            <hr>
        </div>

        <!-- ============================================================ -->
        <!-- SECTION 8: Why This Matters -->
        <!-- ============================================================ -->
        <div class="section-container">
            <h2 class="title is-2">Why This Matters
                <a class="section-toggle" data-action="expand">[Expand All]</a>
            </h2>

            <div class="dropdown-item">
                <div class="dropdown-header">
                    <span class="header-text">
                        <b>From browsing to questioning:</b> Shifts the cognitive burden from scanning complex formulas to asking targeted questions.
                    </span>
                    <span class="icon">
                        <i class="fas fa-chevron-down"></i>
                    </span>
                </div>
                <div class="dropdown-content">
                    <p>Instead of manually scanning complex DNF formulas to find relevant patterns, users can ask targeted contrastive questions&mdash;"Does bed always co-occur with wall?" or "Which objects distinguish kitchen from dining room?"&mdash;aligning with the natural human tendency to seek explanations through selective hypothesis testing.</p>
                </div>
            </div>
            <div class="dropdown-item">
                <div class="dropdown-header">
                    <span class="header-text">
                        <b>Iterative sensemaking through composition:</b> Users start with broad queries and progressively drill down into specifics.
                    </span>
                    <span class="icon">
                        <i class="fas fa-chevron-down"></i>
                    </span>
                </div>
                <div class="dropdown-content">
                    <p>The template taxonomy supports progressive exploration: start with broad frequency queries ("What objects appear in bedrooms?"), then drill into co-occurrences ("Which objects appear with bed?"), cross-class distinctions ("What distinguishes bedroom from living room?"), and counterfactuals ("What if bed were absent?"). This facilitates the step-by-step reasoning process essential for effective model understanding.</p>
                </div>
            </div>
            <div class="dropdown-item">
                <div class="dropdown-header">
                    <span class="header-text">
                        <b>Bridges expertise gaps:</b> Safety engineers and medical practitioners can query model behavior without SQL or programming knowledge.
                    </span>
                    <span class="icon">
                        <i class="fas fa-chevron-down"></i>
                    </span>
                </div>
                <div class="dropdown-content">
                    <p>By eliminating the need for SQL or programming expertise, GLARE makes rigorous global explanations accessible to domain experts who are not ML practitioners. A safety engineer can ask "Does the model ever rely on background features for classification?" and receive a precise, data-grounded answer.</p>
                </div>
            </div>
            <div class="dropdown-item">
                <div class="dropdown-header">
                    <span class="header-text">
                        <b>Scalable to new domains:</b> Deploy on any new dataset by providing entity names&mdash;no retraining, no manual annotation.
                    </span>
                    <span class="icon">
                        <i class="fas fa-chevron-down"></i>
                    </span>
                </div>
                <div class="dropdown-content">
                    <p>The synthetic training pipeline and fence-based loss masking ensure the model learns SQL structure, not dataset-specific vocabulary. Deploying on a new domain requires only providing the entity name list and a database conforming to the same schema. The 90.6% zero-shot transfer to Pascal VOC demonstrates this is practical, not theoretical.</p>
                </div>
            </div>
        </div>

      </div>
    </div>
  </div>
</section>


<section class="section" id="BibTeX">
  <div class="container content">
    <h2 class="title">BibTeX</h2>
    <pre><code>
      @inproceedings{glare2026,
        title={GLARE: A Natural Language Interface for Querying Global Explanations},
        author={Mangannavar, Rajesh and Vasu, Bhavan},
        booktitle={Under Review},
        year={2026}
      }
</code></pre>
  </div>
</section>


<script src="./static/js/bulma-carousel.min.js"></script>
<script src="./static/js/bulma-slider.min.js"></script>
<script src="./static/js/index.js"></script>

<script>
$(document).ready(function() {

    // Individual Dropdown Toggle
    $('.dropdown-header').click(function() {
        $(this).toggleClass('active');
        var content = $(this).next('.dropdown-content');
        content.slideToggle(200);
    });

    // Section Toggle
    $('.section-toggle').click(function(e) {
        e.preventDefault();
        e.stopPropagation();

        var section = $(this).closest('.section-container');
        var headers = section.find('.dropdown-header');
        var contents = section.find('.dropdown-content');
        var action = $(this).data('action');

        if (action === 'expand') {
            headers.addClass('active');
            contents.slideDown(200);
            $(this).text('[Collapse All]');
            $(this).data('action', 'collapse');
        } else {
            headers.removeClass('active');
            contents.slideUp(200);
            $(this).text('[Expand All]');
            $(this).data('action', 'expand');
        }
    });

    // Global Toggle
    $('#global-toggle').click(function() {
        var globalAction = $(this).data('action');
        var allSectionToggles = $('.section-toggle');

        allSectionToggles.each(function() {
            var currentSectionAction = $(this).data('action');
            if (globalAction === 'expand' && currentSectionAction === 'expand') {
                $(this).click();
            } else if (globalAction === 'collapse' && currentSectionAction === 'collapse') {
                $(this).click();
            }
        });

        if (globalAction === 'expand') {
            $(this).text('Collapse All Sections');
            $(this).data('action', 'collapse');
        } else {
            $(this).text('Expand All Sections');
            $(this).data('action', 'expand');
        }
    });

});
</script>

</body>
</html>
